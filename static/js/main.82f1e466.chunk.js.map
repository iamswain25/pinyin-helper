{"version":3,"sources":["texts.ts","atoms.ts","Sidebar.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["text1","text2","text3","text4","text5","text6","text7","text8","text9","彭帅微博","textAtom","atom","sidebarVisibleAtom","Sidebar","useAtom","visible","setVisible","onClick","OtherExamples","ref","React","useRef","eventHandler","ev","tg","target","current","contains","useEffect","window","addEventListener","removeEventListener","className","style","position","top","left","background","padding","Object","values","texts","map","text","index","Li","props","title","substr","indexOf","selectedText","updateText","fontWeight","splitter","GraphemeSplitter","App","setText","useState","aside","setAside","withPinyin","useMemo","splitGraphemes","ch","i","pinyin","createElement","children","key","fontSize","display","flexDirection","value","onChange","marginBottom","whiteSpace","marginTop","onMouseOver","tagName","hasAttribute","getAttribute","classList","add","offsetLeft","offsetTop","onMouseOut","remove","backgroundColor","borderRadius","visibility","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.82f1e466.chunk.js","sourcesContent":["export const text1 = `洛神赋 - 曹植\n\n其形也，翩若惊鸿，婉若游龙，荣曜秋菊，华茂春松。\n髣髴兮若轻云之蔽月，飘飖兮若流风之回雪。\n远而望之，皎若太阳升朝霞。\n迫而察之，灼若芙蕖出渌波。\n秾纤得衷，修短合度。\n肩若削成，腰如约素。\n延颈秀项，皓质呈露，芳泽无加，铅华弗御。\n云髻峨峨，修眉联娟，丹唇外朗，皓齿内鲜。\n明眸善睐，辅靥承权，瑰姿艳逸，仪静体闲。\n柔情绰态，媚于语言。奇服旷世，骨象应图。`;\n\nexport const text2 = `漁父辭\n\n屈原旣放, 游於江潭, 行吟澤畔. 顔色憔悴, 形容枯槁. 漁父見而問之曰,\n子非三閭大夫與. 何故至於斯. 屈原曰, 擧世皆濁, 我獨淸. 衆人皆醉, 我獨醒.\n是以見放. 漁父曰, 聖人不凝滯於物, 而能與世推移. 世人皆濁,\n何不淈其泥而揚其波. 衆人皆醉, 何不餔其糟而歠其醨. 何故深思高擧,\n自令放爲. 屈原曰, 吾聞之. 新沐者必彈冠, 新浴者必振衣. 安能以身之察察,\n受物之汶汶者乎. 寧赴湘流葬於江魚之腹中, 安能以皓皓之白,\n而蒙世俗之塵埃乎. 漁父莞爾而笑, 鼓枻而去. 乃歌曰, 滄浪之水淸兮,\n可以濯吾纓. 滄浪之水濁兮, 可以濯吾足. 遂去不復與言.`;\n\nexport const text3 = `登黄鹤楼 - 崔颢\n\n昔人已乘黄鹤去，此地空余黄鹤楼。\n黄鹤一去不复返，白云千载空悠悠。\n晴川历历汉阳树，芳草萋萋鹦鹉洲。\n日暮乡关何处是，烟波江上使人愁。`;\n\nexport const text4 = `燕歌行 - 曹丕\n\n秋风萧瑟天气凉，草木摇落露为霜，群燕辞归鹄南翔。 \n念君客游思断肠，慊慊思归恋故乡，君何淹留寄他方？\n贱妾茕茕守空房，忧来思君不敢忘，不觉泪下沾衣裳。 \n援琴鸣弦发清商， 短歌微吟不能长。 \n明月皎皎照我床， 星汉西流夜未央。\n牵牛织女遥相望， 尔独何辜限河梁。`;\n\nexport const text5 = `口技 - 林嗣环\n\n京中有善口技者。\n会宾客大宴，于厅事之东北角，施八尺屏障，口技人坐屏障中，一桌、一椅、一扇、一抚尺而已。\n众宾团坐。少顷，但闻屏障中抚尺一下，满坐寂然，无敢哗者。 \n遥闻深巷中犬吠，便有妇人惊觉欠伸，其夫呓语。\n既而儿醒，大啼。夫亦醒。\n妇抚儿乳，儿含乳啼，妇拍而呜之。\n又一大儿醒，絮絮不止。\n当是时，妇手拍儿声，口中呜声，儿含乳啼声，大儿初醒声，夫叱大儿声，一时齐发，众妙毕备。\n满坐宾客无不伸颈，侧目，微笑，默叹，以为妙绝。 \n未几，夫齁声起，妇拍儿亦渐拍渐止。\n微闻有鼠作作索索，盆器倾侧，妇梦中咳嗽。\n宾客意少舒，稍稍正坐。 \n忽一人大呼\"火起\"，夫起大呼，妇亦起大呼。\n两儿齐哭。俄而百千人大呼，百千儿哭，百千犬吠。\n中间力拉崩倒之声，火爆声，呼呼风声，百千齐作；又夹百千求救声，曳屋许许声，抢夺声，泼水声。\n凡所应有，无所不有。\n虽人有百手，手有百指，不能指其一端；人有百口，口有百舌，不能名其一处也。\n于是宾客无不变色离席，奋袖出臂，两股战战，几欲先走。 \n忽然抚尺一下，群响毕绝。\n撤屏视之，一人、一桌、一椅、一扇、一抚尺而已。`;\n\nexport const text6 = `狼 - 蒲松龄\n\n一屠晚归，担中肉尽，止有剩骨。\n途中两狼，缀行甚远。 \n屠惧，投以骨。\n一狼得骨止，一狼仍从。\n复投之，后狼止而前狼又至。\n骨已尽矣，而两狼之并驱如故。 \n屠大窘，恐前后受其敌。\n顾野有麦场，场主积薪其中，苫蔽成丘。\n屠乃奔倚其下，弛担持刀。\n狼不敢前，眈眈相向。 \n少时，一狼径去，其一犬坐于前。\n久之，目似瞑，意暇甚。\n屠暴起，以刀劈狼首，又数刀毙之。\n方欲行，转视积薪后，一狼洞其中，意将隧入以攻其后也。\n身已半入，止露尻尾。\n屠自后断其股，亦毙之。\n乃悟前狼假寐，盖以诱敌。\n狼亦黠矣，而顷刻两毙，禽兽之变诈几何哉？\n止增笑耳。`;\n\nexport const text7 = `木兰诗 - 郭茂倩\n\n唧唧复唧唧，木兰当户织。\n不闻机杼声，唯闻女叹息。\n问女何所思，问女何所忆。\n女亦无所思，女亦无所忆。\n昨夜见军帖，可汗大点兵，军书十二卷，卷卷有爷名。\n阿爷无大儿，木兰无长兄，愿为市鞍马，从此替爷征。\n东市买骏马，西市买鞍鞯，南市买辔头，北市买长鞭。\n旦辞爷娘去，暮宿黄河边，不闻爷娘唤女声，但闻黄河流水鸣溅溅。\n旦辞黄河去，暮至黑山头，不闻爷娘唤女声，但闻燕山胡骑鸣啾啾。 \n万里赴戎机，关山度若飞。\n朔气传金柝，寒光照铁衣。\n将军百战死，壮士十年归。 \n归来见天子，天子坐明堂。\n策勋十二转，赏赐百千强。\n可汗问所欲，木兰不用尚书郎，愿驰千里足，送儿还故乡。\n爷娘闻女来，出郭相扶将；\n阿姊闻妹来，当户理红妆；\n小弟闻姊来，磨刀霍霍向猪羊。\n开我东阁门，坐我西阁床，脱我战时袍，著我旧时裳。\n当窗理云鬓，对镜贴花黄。\n出门看火伴，火伴皆惊忙：同行十二年，不知木兰是女郎。 \n雄免脚扑朔，雌兔眼迷离；双兔傍地走，安能辨我是雄雌？`;\n\nexport const text8 = `前出师表 - 诸葛亮\n\n先帝创业未半而中道崩殂，今天下三分，益州疲弊，此诚危急存亡之秋也。然侍卫之臣不懈于内，忠志之士忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气，不宜妄自菲薄，引喻失义，以塞忠谏之路也。\n宫中府中，俱为一体；陟罚臧否，不宜异同。若有作奸犯科及为忠善者，宜付有司论其刑赏，以昭陛下平明之理，不宜偏私，使内外异法也。\n侍中、侍郎郭攸之、费祎、董允等，此皆良实，志虑忠纯，是以先帝简拔以遗陛下。愚以为宫中之事，事无大小，悉以咨之，然后施行，必能裨补阙漏，有所广益。\n将军向宠，性行淑均，晓畅军事，试用于昔日，先帝称之曰能，是以众议举宠为督。愚以为营中之事，悉以咨之，必能使行阵和睦，优劣得所。\n亲贤臣，远小人，此先汉所以兴隆也；亲小人，远贤臣，此后汉所以倾颓也。先帝在时，每与臣论此事，未尝不叹息痛恨于桓、灵也。侍中、尚书、长史、参军，此悉贞良死节之臣，愿陛下亲之信之，则汉室之隆，可计日而待也。\n臣本布衣，躬耕于南阳，苟全性命于乱世，不求闻达于诸侯。先帝不以臣卑鄙，猥自枉屈，三顾臣于草庐之中，咨臣以当世之事，由是感激，遂许先帝以驱驰。后值倾覆，受任于败军之际，奉命于危难之间，尔来二十有一年矣。\n先帝知臣谨慎，故临崩寄臣以大事也。受命以来，夙夜忧叹，恐托付不效，以伤先帝之明；故五月渡泸，深入不毛。今南方已定，兵甲已足，当奖率三军，北定中原，庶竭驽钝，攘除奸凶，兴复汉室，还于旧都。此臣所以报先帝而忠陛下之职分也。至于斟酌损益，进尽忠言，则攸之、祎、允之任也。\n愿陛下托臣以讨贼兴复之效，不效，则治臣之罪，以告先帝之灵。若无兴德之言，则责攸之、祎、允等之慢，以彰其咎；陛下亦宜自谋，以咨诹善道，察纳雅言，深追先帝遗诏。臣不胜受恩感激。今当远离，临表涕零，不知所言。`;\n\nexport const text9 = `后出师表 - 诸葛亮\n\n先帝虑汉、贼不两立，王业不偏安，故托臣以讨贼也。\n以先帝之明，量臣之才，故知臣伐贼，才弱敌强也。\n然不伐贼，王业亦亡；\n惟坐而待亡，孰与伐之？是故托臣而弗疑也。\n\n臣受命之日，寝不安席，食不甘味。\n思惟北征。\n宜先入南。\n故五月渡泸，深入不毛，并日而食;\n臣非不自惜也，顾王业不可偏安于蜀都，故冒危难以奉先帝之遗意，而议者谓为非计。\n今贼适疲于西，又务于东，兵法乘劳，此进趋之时也。\n谨陈其事如左。\n\n高帝明并日月，谋臣渊深，然涉险被创，危然后安。\n今陛下未及高帝，谋臣不如良、平，而欲以长策取胜，坐定天下，此臣之未解一也。\n刘繇、王朗，各据州郡，论安言计，动引圣人，群疑满腹，众难塞胸，今岁不战，明年不征，使孙策坐大，遂并江东，此臣之未解二也。\n曹操智计，殊绝于人，其用兵也，仿怫孙、吴，然困于南阳，险于乌巢，危于祁连，逼于黎阳，几败北山，殆死潼关，然后伪定一时耳；\n况臣才弱，而欲以不危而定之：此臣之未解三也。曹操五攻昌霸不下，四越巢湖不成，任用李服而李服图之，委任夏侯而夏侯败亡，先帝每称操为能，犹有此失；\n况臣弩下，何能必胜：此臣之未解四也。\n自臣到汉中，中间期年耳，然丧赵云、阳群、马玉、阎芝、丁立、白寿、刘合、邓铜等，及驱长屯将七十余人，突将无前，丛叟、青羌，散骑武骑一千余人，此皆数十年之内，所纠合四方之精锐，非一州之所有；\n若复数年，则损三分之二也。——当何以图敌：此臣之未解五也。\n今民穷兵疲，而事不可息；\n事不可息，则住与行，劳费正等；\n而不及今图之，欲以一州之地，与贼持久：此臣之未解六也。\n\n夫难平者，事也。\n昔先帝败军于楚，当此时，曹操拊手，谓天下已定。\n——然后先帝东连吴、越，西取巴、蜀，举兵北征，夏侯授首：此操之失计，而汉事将成也。\n——然后吴更违盟，关羽毁败，秭归蹉跌，曹丕称帝：凡事如是，难可逆见。臣鞠躬尽瘁，死而后已；\n至于成败利钝，非臣之明所能逆睹也。`;\n\nexport const 彭帅微博 = `彭帅·微博\n\n我知道说不清楚，说了也没有用，但还是想说出来，我是多么的虚伪不堪，我承认我不是一个好女孩，很坏很坏的女孩，大概三年前张高丽副总理你退休了，找天津网球中心的刘大夫再联系到我，约我打球，在北京的康铭大厦。上午打完球，你和妻子康洁一起带我去了你们家。然后把我带进你家的房间，和十多年前在天津时一样，要和我发生性关系。那天下午我很怕，根本没想到会是这样，一个人在外帮守著，因为谁都不可能相信老婆会愿意。七年前我们发生过一次性关系，然后你升常委去北京就再没联系过我。原本埋藏了一切在心里，既然你根本不打算负责，为何还要回来找我，带我去你家逼我和你发生关系？是我没有证据，也根本不可能留下证据。后来你一直否认，可确是你先喜欢的我，否则我也不可能接触的到你。\n\n自小离家早，内心极度缺爱，面对发生这一切，我从不认为我一个好女孩，我恨我自己，恨我为甚么要来到这个世界，经历这一劫。你同我说你爱我，很爱很爱，来生希望在你二十岁我十八岁时我们就遇见。你说你很孤独，一个人很可怜，我们有聊不完的天，讲不完的话，你说你这个位置没有办法离婚，如果你在山东时认识，还可以离婚，可是现在没有办法。我想过默默无闻就这样陪著你，开始还好，可是日子久了慢慢的变了，太多的不公与侮辱。每次你让我去，背著你你妻子对我说过多少难听侮辱的话，各种冷嘲热讽。我说喜欢吃鸭舌，康洁阿姨会冲著我说～咿真恶心。冬天北京雾霾我说有时候空气不太好，康洁阿姨会对我说，那是你们郊区，我们这儿没感觉。等等诸如类似的话说了很多很多，你在时候她不这样说，好像和我们一样，两个人相处时是一个样，有旁人时你对我又是一个样。\n\n我同你说过，这些话听多了心里特别难受委屈，从认识你第一天到现在没用过你一分钱，更没通过你谋取过任何利益或者好处，可名分这东西真重要。这一切我活该，自取其辱。从头到尾你都是一直让我保密和你的一切关系，更不可以告诉我妈和你有男女关系，因为每次都是她送我去西什库教堂那儿，然后换你家的车才能进院里。她一直以为我是去打麻将打牌，去你家玩。我们在彼此的生活中都是真实生活中的一个透明人，你的妻子好像甄环传的皇后一样，而我无法形容自己多么的不堪，很多时候我觉得我自己还是一个人吗？我觉得自己是一个行尸走肉，装，每一天都在装，哪个我才是真的我？我不该来到这个世界，可又没有勇气去死。我好想可以活的简单点，可事与愿违。\n\n30号那天晚上争议很大，你说2号下午再去你们家我们慢慢谈，今天中午打电话来说有事再联系，推托一切，借口说改天再联系……，就这样和七年前一样”消失了”，玩玩想不要就不要了。你说我们之间没有任何交易，是，我们之间的感情和钱、权力没有任何关系，可这三年的感情我无处安放，难以面对。你总怕我带甚么录音器，留下证据甚么的。是的，除我以外我没留下证据证明，没有录音、没有录像、只有被扭曲的我的真实经历。\n\n我知道对于您位高权重的张高丽副总理来说，你说过你不怕。但即使是以卵击石，飞蛾扑火自取灭亡的我也会说出和你的事实。以你的智商谋略你一定否认或者可以反扣给我，你可以如此玩世不恭。你总说希望你母亲在天可以保佑你，我是一个坏女孩不配为人母，你为人父也有儿有女，我问过你就算是你的养女你会逼她这么做吗？你今生做的这一切日后心安理得的去面对你的母亲吗？我们都很道貌岸然……`;\n","import { atom } from \"jotai\";\nimport { text2 } from \"./texts\";\n\nexport const textAtom = atom(text2);\nexport const sidebarVisibleAtom = atom(false);\n","import { useAtom } from \"jotai\";\nimport React from \"react\";\nimport { sidebarVisibleAtom, textAtom } from \"./atoms\";\nimport * as texts from \"./texts\";\n\nexport default function Sidebar() {\n  const [visible, setVisible] = useAtom(sidebarVisibleAtom);\n  return (\n    <div>\n      <button onClick={() => setVisible(true)}>Othere examples</button>\n      {visible && <OtherExamples />}\n    </div>\n  );\n}\n\nfunction OtherExamples() {\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [, setVisible] = useAtom(sidebarVisibleAtom);\n  function eventHandler(ev: MouseEvent) {\n    const tg = ev.target as HTMLElement;\n    const contain = ref.current?.contains(tg);\n    if (!contain) {\n      setVisible(false);\n    }\n  }\n  React.useEffect(() => {\n    window.addEventListener(\"click\", eventHandler);\n    return () => window.removeEventListener(\"click\", eventHandler);\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <section\n      ref={ref}\n      className=\"shadow\"\n      style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        background: \"white\",\n        padding: \"1rem\",\n      }}\n    >\n      <h1>Othere examples</h1>\n      <ul className=\"clickable-li\">\n        {Object.values(texts).map((text, index) => (\n          <Li text={text} key={index} />\n        ))}\n      </ul>\n    </section>\n  );\n}\n\nfunction Li(props: { text: string }) {\n  const { text } = props;\n  const title = text.substr(0, text.indexOf(\"\\n\"));\n  const [selectedText, updateText] = useAtom(textAtom);\n  const [, setVisible] = useAtom(sidebarVisibleAtom);\n  return (\n    <li\n      onClick={() => {\n        updateText(text);\n        setVisible(false);\n      }}\n      style={{ fontWeight: selectedText === text ? \"bold\" : \"normal\" }}\n    >\n      {title}\n    </li>\n  );\n}\n","import React, { MouseEvent } from \"react\";\nimport pinyin from \"pinyin\";\nimport GraphemeSplitter from \"grapheme-splitter\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport Sidebar from \"./Sidebar\";\nimport { useAtom } from \"jotai\";\nimport { textAtom } from \"./atoms\";\nconst splitter = new GraphemeSplitter();\n\nexport default function App() {\n  const [text, setText] = useAtom(textAtom);\n  const [aside, setAside] = React.useState({\n    left: 0,\n    top: 0,\n    visible: false,\n    title: \"\",\n  });\n  function onMouseOverHandler(ev: MouseEvent) {\n    const target = ev.target as HTMLElement;\n    if (target.tagName === \"SPAN\" && target.hasAttribute(\"title\")) {\n      const title = target.getAttribute(\"title\") || \"\";\n      target.classList.add(\"highlight\");\n      setAside({\n        left: target.offsetLeft,\n        top: target.offsetTop - 80,\n        title,\n        visible: true,\n      });\n    }\n  }\n  function onMouseOutHandler(ev: MouseEvent) {\n    const target = ev.target as HTMLElement;\n    target.classList.remove(\"highlight\");\n    setAside({ ...aside, visible: false });\n  }\n  const withPinyin = React.useMemo(() => {\n    const split: string[] = splitter.splitGraphemes(text);\n    return split.map((ch, i) => {\n      const title = pinyin(ch);\n      return React.createElement(\"span\", {\n        children: ch,\n        title,\n        key: `key-${i}`,\n      });\n    });\n  }, [text]);\n  const { left, top, title, visible } = aside;\n  return (\n    <section\n      style={{\n        padding: \"2rem\",\n        fontSize: \"1.2rem\",\n        display: \"flex\",\n        flexDirection: \"column\",\n      }}\n    >\n      <Sidebar />\n      <h1>chinese texts pasted below will...</h1>\n      <TextareaAutosize\n        value={text}\n        onChange={(ev) => setText(ev.target.value)}\n        className=\"shadow\"\n        style={{\n          fontSize: \"1.2rem\",\n          marginBottom: \"1rem\",\n          padding: \"1rem\",\n        }}\n      />\n      <h2>have pinyin 🔠🔢 on mouse hover 🖱⬇⬇⬇⬇⬇</h2>\n      <article\n        style={{ whiteSpace: \"pre-line\", marginTop: \"1rem\" }}\n        onMouseOver={onMouseOverHandler}\n        onMouseOut={onMouseOutHandler}\n      >\n        {withPinyin}\n      </article>\n      <aside\n        className=\"shadow\"\n        style={{\n          left,\n          top,\n          position: \"absolute\",\n          backgroundColor: \"white\",\n          padding: \"0.5rem\",\n          fontSize: \"3rem\",\n          borderRadius: \"0.5rem\",\n          visibility: visible ? \"visible\" : \"hidden\",\n        }}\n      >\n        {title}\n      </aside>\n    </section>\n  );\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}